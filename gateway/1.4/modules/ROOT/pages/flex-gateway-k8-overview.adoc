= Flex Gateway Deployments in Kubernetes
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:imagesdir: ../assets/images

You can deploy Flex Gateway to a Kubernetes cluster in Connected Mode or Local Mode. The choice determines whether Flex can act as an ingress or ingress controller.

Connected Mode and Local Mode deployment models apply to Kubernetes clusters and to OpenShift clusters, which are based on Kubernetes.

[cols="2a*",options="header"]
|===
| Flex Deployment on Kubernetes | Connected Mode | Local Mode
| Ingress | Yes | No 
| Ingress Controller | No | Yes 
| Standalone Gateway | Yes | Yes 
|===

* In Local Mode, Flex Gateway uses an ingress controller to manage an `Ingress` resource that is either created manually or created though a continuous integration/continuous development (CI/CD) pipeline by using `kubectl apply`. 

* In Connected Mode, you do not use an ingress controller to manage the `Ingress` resource. 

== Connected Mode with Kubernetes 
include::partial$task-reg-run-flex-gateway.adoc[tag=k8s-connected-intro]

== Local Mode with Kubernetes
include::partial$task-reg-run-flex-gateway.adoc[tag=k8s-local-intro]

The following diagram demonstrates multiple Flex Replicas deployed as ingress controllers. The Flex Replicas sit behind a load balancer and manage all incoming traffic. 

image::ad-ingress-controller.png["Multiple Flex Gateway replicas manage all incoming external traffic."]

== See Also

* xref:index.adoc#connected-mode-vs-local-mode[Connected Mode vs. Local Mode]
